# =============================================================================
# Copilot Profile â€” Environment Variables
# =============================================================================
# Copy to .env and update with your values.
# This profile runs TWO clusters:
#   1. Monitored Temporal cluster (DSQL + Elasticsearch)
#   2. Copilot cluster (separate DSQL, Pydantic AI workflows)
# =============================================================================

# -----------------------------------------------------------------------------
# Monitored Temporal Cluster (DSQL)
# -----------------------------------------------------------------------------
TEMPORAL_SQL_HOST=your-cluster-id.dsql.region.on.aws
TEMPORAL_SQL_PORT=5432
TEMPORAL_SQL_USER=admin
TEMPORAL_SQL_DATABASE=postgres
TEMPORAL_SQL_PLUGIN=dsql
TEMPORAL_SQL_PLUGIN_NAME=dsql
TEMPORAL_SQL_TLS_ENABLED=true
TEMPORAL_SQL_IAM_AUTH=true
TEMPORAL_SQL_MAX_CONNS=50
TEMPORAL_SQL_MAX_IDLE_CONNS=50
TEMPORAL_SQL_CONNECTION_TIMEOUT=30s
TEMPORAL_SQL_MAX_CONN_LIFETIME=55m

# Elasticsearch (local)
TEMPORAL_ELASTICSEARCH_HOST=elasticsearch
TEMPORAL_ELASTICSEARCH_PORT=9200
TEMPORAL_ELASTICSEARCH_SCHEME=http
TEMPORAL_ELASTICSEARCH_VERSION=v8
TEMPORAL_ELASTICSEARCH_INDEX=temporal_visibility_v1_dev

# AWS
AWS_REGION=eu-west-1
TEMPORAL_SQL_AWS_REGION=eu-west-1

# Temporal
TEMPORAL_LOG_LEVEL=info
TEMPORAL_HISTORY_SHARDS=4

# Reservoir (disabled for local dev by default)
DSQL_RESERVOIR_ENABLED=false

# -----------------------------------------------------------------------------
# Copilot Cluster (separate DSQL)
# -----------------------------------------------------------------------------
COPILOT_DSQL_HOST=your-copilot-cluster-id.dsql.region.on.aws
COPILOT_DSQL_DATABASE=postgres

# Bedrock Knowledge Base
COPILOT_KNOWLEDGE_BASE_ID=XXXXXXXXXX

# Behaviour Profiles (S3 bucket from `copilot dev infra apply` output)
COPILOT_PROFILE_S3_BUCKET=

# Docker image
TEMPORAL_IMAGE=temporal-dsql-runtime:test
