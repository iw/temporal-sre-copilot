# Grafana datasource for the Temporal SRE Copilot JSON API
#
# Uses the JSON API plugin (marcusolsson-json-datasource) to query
# the Copilot API service. Grafana consumes pre-computed values only.
#
# Environment variable substituted by entrypoint.sh:
# - COPILOT_API_URL: Copilot API endpoint (default: http://copilot-api:8080)

apiVersion: 1

datasources:
  - name: Copilot
    type: marcusolsson-json-datasource
    uid: copilot
    access: proxy
    url: ${COPILOT_API_URL}
    isDefault: false
    editable: true
    jsonData:
      httpMethod: GET
